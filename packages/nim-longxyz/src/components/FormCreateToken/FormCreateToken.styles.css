#form-create {
  display: grid;

  & :where(fieldset) {
    inline-size: calc(100% - 4em);

    & > :where(legend) {
      all: unset;
      color: var(--color-on-surface-2);
    }
  }

  & :where(fieldset) {
    display: grid;
    z-index: 0;
    position: relative;
    padding-inline: 1em;
    margin-block-start: 6cap;
    padding: 1em;
    border: var(--border-width-1) solid #f6f6f605;
    margin-inline: auto;
    max-inline-size: var(--inline-size-4);

    & > :where(legend) {
      z-index: var(--z-index--1);
      margin-block-start: -4cap;
      padding-block-end: 2em;
      position: absolute;
      text-transform: uppercase;
      font-size: 85%;
    }

    &::before {
      z-index: var(--z-index--1);
      content: '';
      position: absolute;
      inset: 0;
      background-color: var(--color-surface-1);
      opacity: 0.35;
    }
  }

  & :where(input) {
    margin-block-start: -1cap;

    &[aria-invalid='true'] {
      border-color: var(--color-negative-1);
    }
  }

  & :where(textarea[aria-invalid='true']) {
    border-color: var(--color-negative-1);
  }

  & :where(output) {
    margin-block-start: -1cap;
    color: var(--color-negative-1);
    font-size: 85%;
    line-height: var(--line-height-0);
  }

  &[aria-busy='true'] button[type='submit'] {
    opacity: 0.35;
    animation: blink ease-out 1.35s infinite;
  }
}

/**
 *
 *
 * step 1 
 *
 *
 */

#form-create-fieldset-1 {
  grid-template-areas:
    'name-label symbol-label'
    'name-input symbol-input'
    'name-error symbol-error'
    'text-label text-label'
    'text-input text-input'
    'text-error text-error';
  gap: 1.5cap;
  padding-block-end: 0;

  @media (--breakpoint-sm-only) {
    grid-template-areas:
      'name-label'
      'name-input'
      'name-error'
      'symbol-label'
      'symbol-input'
      'symbol-error'
      'text-label'
      'text-input'
      'text-error';
  }

  & [for='token_name'] {
    grid-area: name-label;

    & + input {
      grid-area: name-input;
    }

    & + input + output {
      grid-area: name-error;
    }
  }

  & [for='token_symbol'] {
    grid-area: symbol-label;

    & + input {
      grid-area: symbol-input;
      margin-block-start: -1cap;
    }

    & + input + output {
      grid-area: symbol-error;
    }
  }

  & [for='token_description'] {
    grid-area: text-label;

    & + textarea {
      grid-area: text-input;
      margin-block-start: -1cap;
    }

    & + textarea + output {
      grid-area: text-error;
    }
  }
}

/**
 *
 *
 * step 2
 *
 *
 */

#form-create-fieldset-2 {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  text-align: center;
  gap: 2ch;

  @media (--breakpoint-sm-only) {
    grid-template-columns: 1fr;
  }

  &[aria-invalid='true'] {
    border-color: var(--color-negative-1);
  }

  & button {
    background: linear-gradient(93deg, #f6f6f6 -1.21%, #828282 100.04%);
    inline-size: fit-content;
    margin: auto;
    block-size: fit-content;

    outline-color: transparent;
    outline-width: var(--border-width-1);
    outline-style: solid;
    outline-offset: var(--border-width-2);

    &:focus {
      animation: --focus-input ease-out 0.65s;
    }

    &:hover:not(:focus) {
      outline-color: #f6f6f635;
    }
  }

  & label {
    cursor: pointer;
    transition: scale ease-out var(--transition-duration-2);
    margin: auto;
    padding-inline: 3ch;

    & small {
      display: block;
      color: var(--color-on-surface-2);
    }

    &:is(:hover, :focus, :focus-within) {
      scale: 1.02;
    }

    outline-color: transparent;
    outline-width: var(--border-width-1);
    outline-style: solid;

    &:is(:focus, :focus-within) {
      animation: --focus-input ease-out 0.65s;
    }

    &:hover:not(:focus) {
      outline-color: #f6f6f635;
    }
  }

  & p {
    place-content: center;
    color: var(--color-on-surface-2);
  }

  & .preview {
    grid-column: 1 / -1;
    margin-inline: auto;
  }

  & output {
    margin-block-start: -1cap;
    color: var(--color-negative-1);
    font-size: 85%;
    line-height: var(--line-height-0);
    grid-column: 1 / -1;
  }
}

/**
 *
 *
 * step 3
 *
 *
 */

#form-create-fieldset-3 {
  gap: 1.5cap;

  & label + input {
    margin-block-start: -1cap;
  }
}

/*  */

@keyframes --focus-input {
  from {
    outline-color: var(--color-accent-1);
  }

  65%,
  to {
    outline-color: transparent;
  }
}

@keyframes blink {
  from {
    opacity: 0.35;
  }
  85% {
    opacity: 0.75;
  }
  to {
    opacity: 0.15;
  }
}
